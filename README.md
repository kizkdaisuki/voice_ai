# 🎤 语音识别助手

一个功能强大的实时语音识别终端工具，支持麦克风、系统音频和混合音频识别，支持中文和英文。

## ✨ 功能特性

- 🎙️ **麦克风识别**: 实时识别麦克风输入的语音
- 🔊 **系统音频识别**: 识别电脑播放的音频内容
- 🎵 **混合音频识别**: 同时识别麦克风和系统音频
- 🌍 **多语言支持**: 支持中文、英文和自动语言检测
- ⚡ **实时处理**: 边说边识别，低延迟响应
- 🎛️ **灵活配置**: 支持命令行参数和交互式设置

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行程序

```bash
# 交互式菜单
python voice.py

# 直接启动麦克风识别
python voice.py --mode mic

# 直接启动系统音频识别
python voice.py --mode system

# 直接启动混合音频识别
python voice.py --mode mixed

# 指定语言
python voice.py --language en-US
python voice.py --language zh-CN
python voice.py --language auto
```

## 📋 使用说明

### 交互式菜单

运行 `python voice.py` 后会显示菜单：

```
==================================================
🎤 语音识别助手
==================================================
1. 麦克风识别
2. 系统音频识别
3. 混合音频识别（麦克风 + 系统音频）
4. 设置
5. 退出
==================================================
```

### 命令行参数

- `--language, -l`: 设置识别语言
  - `zh-CN`: 中文（默认）
  - `en-US`: 英文
  - `auto`: 自动检测
- `--mode, -m`: 直接启动模式
  - `mic`: 麦克风识别
  - `system`: 系统音频识别
  - `mixed`: 混合音频识别

### 使用示例

```bash
# 中文麦克风识别
python voice.py -l zh-CN -m mic

# 英文系统音频识别
python voice.py -l en-US -m system

# 自动检测语言的混合识别
python voice.py -l auto -m mixed
```

## 🔧 系统要求

### macOS 用户

1. **音频权限**: 首次运行时需要授权应用访问麦克风和音频设备
2. **系统音频**: 可能需要安装额外的音频驱动（如 BlackHole）来捕获系统音频

### 依赖包

- `SpeechRecognition`: 语音识别核心库
- `pyaudio`: 麦克风音频捕获
- `soundcard`: 系统音频捕获
- `numpy`: 数值计算

## 🎯 应用场景

- 📝 **会议记录**: 实时转录会议内容
- 🎬 **视频字幕**: 识别视频中的语音内容
- 📞 **通话记录**: 同时记录双方对话
- 🎓 **学习辅助**: 识别在线课程语音
- 🎮 **游戏辅助**: 识别游戏内语音

## 🛠️ 故障排除

### 常见问题

1. **无法识别声音**
   - 检查麦克风权限
   - 调整音量大小
   - 尝试重新校准

2. **系统音频无法捕获**
   - 确保音频设备权限
   - 可能需要安装虚拟音频驱动

3. **识别准确率低**
   - 确保网络连接正常（使用Google服务）
   - 减少环境噪音
   - 说话清晰

### 权限设置

在 macOS 上，需要在 "系统偏好设置" > "安全性与隐私" > "隐私" 中授权：
- 麦克风访问权限
- 音频设备访问权限

## 🔮 后续功能

- 集成硅基流动API进行智能问答
- 本地Whisper模型支持
- 音频文件识别
- 实时翻译功能

## 📝 开发日志

- ✅ 麦克风实时识别
- ✅ 系统音频识别
- ✅ 混合音频识别
- ✅ 多语言支持
- ✅ 命令行参数
- 🚧 硅基流动API集成（下一步）
